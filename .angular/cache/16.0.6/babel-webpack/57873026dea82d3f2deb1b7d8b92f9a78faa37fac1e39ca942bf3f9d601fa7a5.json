{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\n//import { course } from '../courses/course';\nimport { HttpHeaders } from '@angular/common/http';\nlet CartComponent = class CartComponent {\n  constructor(http, authService, router, route) {\n    this.http = http;\n    this.authService = authService;\n    this.router = router;\n    this.route = route;\n    this.courses = [];\n    this.amount = 0;\n  }\n  ngOnInit() {\n    this.getCart();\n    console.log(this.courses);\n  }\n  getCart() {\n    const token = this.authService.getToken();\n    const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);\n    this.http.get(\"http://127.0.0.1:8000/api/cart/view\", {\n      headers\n    }).subscribe(data => {\n      this.email = data.email;\n      this.courses = data.courses;\n      this.amount = data.amount;\n    });\n  }\n  remove(id) {\n    const token = this.authService.getToken();\n    const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);\n    this.http.post(`http://127.0.0.1:8000/api/cart/delete/${id}`, {}, {\n      headers\n    }).subscribe(() => {\n      alert(`Removed from cart`);\n      this.getCart();\n    }, error => {\n      console.log(error);\n      alert(`error!`);\n    });\n  }\n  onBack() {\n    this.router.navigate(['/courses']);\n  }\n};\nCartComponent = __decorate([Component({\n  selector: 'pm-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n})], CartComponent);\nexport { CartComponent };","map":{"version":3,"names":["Component","HttpHeaders","CartComponent","constructor","http","authService","router","route","courses","amount","ngOnInit","getCart","console","log","token","getToken","headers","set","get","subscribe","data","email","remove","id","post","alert","error","onBack","navigate","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\LENOVO\\P10\\demo\\src\\app\\cart\\cart.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\n//import { course } from '../courses/course';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { AuthService } from '../auth.service';\nimport { ActivatedRoute, Router } from '@angular/router';\n\ninterface course {\n  id: number;\n  courseName: string;\n  courseCode: string;\n  startDate: string;\n  price:number;\n  starRating:number;\n  imageUrl:string;\n  category:number|null;\n  \n}\n@Component({\n  selector: 'pm-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n})\nexport class CartComponent implements OnInit {\n\n  email: string|undefined;\n  courses:course[]=[];\n  amount:number=0;\n  \n\n\n  constructor(private http: HttpClient,private authService:AuthService, private router:Router, private route: ActivatedRoute,){}\n\n  ngOnInit(): void {\n    this.getCart();\n    console.log(this.courses);\n  }\n\n  getCart()\n  {\n    const token=this.authService.getToken();\n    const headers=new HttpHeaders().set('Authorization',`Bearer ${token}`);\n    this.http.get<any>(\"http://127.0.0.1:8000/api/cart/view\",{headers}).subscribe(data=>{\n      this.email=data.email;\n      this.courses=data.courses;\n      this.amount=data.amount;\n    });\n  }\n\n  remove(id:number)\n  {\n    const token=this.authService.getToken();\n    const headers=new HttpHeaders().set('Authorization',`Bearer ${token}`);\n    this.http.post<any>(`http://127.0.0.1:8000/api/cart/delete/${id}`,{},{headers}).subscribe(()=>{\n      alert(`Removed from cart`);\n      this.getCart();\n    },\n    (error)=> {\n      console.log(error);\n      alert(`error!`)});\n  }\n\n  onBack(): void {\n    this.router.navigate(['/courses']);\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD;AACA,SAAqBC,WAAW,QAAQ,sBAAsB;AAoB9D,IAAaC,aAAa,GAA1B,MAAaA,aAAa;EAQxBC,YAAoBC,IAAgB,EAASC,WAAuB,EAAUC,MAAa,EAAUC,KAAqB;IAAtG,KAAAH,IAAI,GAAJA,IAAI;IAAqB,KAAAC,WAAW,GAAXA,WAAW;IAAsB,KAAAC,MAAM,GAANA,MAAM;IAAiB,KAAAC,KAAK,GAALA,KAAK;IAL1G,KAAAC,OAAO,GAAU,EAAE;IACnB,KAAAC,MAAM,GAAQ,CAAC;EAI8G;EAE7HC,QAAQA,CAAA;IACN,IAAI,CAACC,OAAO,EAAE;IACdC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACL,OAAO,CAAC;EAC3B;EAEAG,OAAOA,CAAA;IAEL,MAAMG,KAAK,GAAC,IAAI,CAACT,WAAW,CAACU,QAAQ,EAAE;IACvC,MAAMC,OAAO,GAAC,IAAIf,WAAW,EAAE,CAACgB,GAAG,CAAC,eAAe,EAAC,UAAUH,KAAK,EAAE,CAAC;IACtE,IAAI,CAACV,IAAI,CAACc,GAAG,CAAM,qCAAqC,EAAC;MAACF;IAAO,CAAC,CAAC,CAACG,SAAS,CAACC,IAAI,IAAE;MAClF,IAAI,CAACC,KAAK,GAACD,IAAI,CAACC,KAAK;MACrB,IAAI,CAACb,OAAO,GAACY,IAAI,CAACZ,OAAO;MACzB,IAAI,CAACC,MAAM,GAACW,IAAI,CAACX,MAAM;IACzB,CAAC,CAAC;EACJ;EAEAa,MAAMA,CAACC,EAAS;IAEd,MAAMT,KAAK,GAAC,IAAI,CAACT,WAAW,CAACU,QAAQ,EAAE;IACvC,MAAMC,OAAO,GAAC,IAAIf,WAAW,EAAE,CAACgB,GAAG,CAAC,eAAe,EAAC,UAAUH,KAAK,EAAE,CAAC;IACtE,IAAI,CAACV,IAAI,CAACoB,IAAI,CAAM,yCAAyCD,EAAE,EAAE,EAAC,EAAE,EAAC;MAACP;IAAO,CAAC,CAAC,CAACG,SAAS,CAAC,MAAI;MAC5FM,KAAK,CAAC,mBAAmB,CAAC;MAC1B,IAAI,CAACd,OAAO,EAAE;IAChB,CAAC,EACAe,KAAK,IAAG;MACPd,OAAO,CAACC,GAAG,CAACa,KAAK,CAAC;MAClBD,KAAK,CAAC,QAAQ,CAAC;IAAA,CAAC,CAAC;EACrB;EAEAE,MAAMA,CAAA;IACJ,IAAI,CAACrB,MAAM,CAACsB,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;EACpC;CACD;AA1CY1B,aAAa,GAAA2B,UAAA,EALzB7B,SAAS,CAAC;EACT8B,QAAQ,EAAE,SAAS;EACnBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,C,EACW9B,aAAa,CA0CzB;SA1CYA,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}