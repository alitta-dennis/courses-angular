{"ast":null,"code":"var _class;\n//import { course } from '../courses/course';\nimport { HttpHeaders } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction CartComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1, \" Cart Empty!!\\n\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CartComponent_div_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"h5\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h5\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h5\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function CartComponent_div_5_div_1_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const course_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.remove(course_r2.id));\n    });\n    i0.ɵɵtext(8, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const course_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Course Name: \", course_r2.courseName, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Price: $ \", course_r2.price, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Start Date: \", course_r2.startDate, \"\");\n  }\n}\nfunction CartComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtemplate(1, CartComponent_div_5_div_1_Template, 10, 3, \"div\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const course_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", course_r2.courseName && course_r2.price && course_r2.startDate);\n  }\n}\nclass CartComponent {\n  constructor(http, authService, router, route) {\n    this.http = http;\n    this.authService = authService;\n    this.router = router;\n    this.route = route;\n    this.courses = [];\n    this.amount = 0;\n  }\n  ngOnInit() {\n    this.getCart();\n    console.log(this.courses);\n  }\n  getCart() {\n    const token = this.authService.getToken();\n    const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);\n    this.http.get(\"http://127.0.0.1:8000/api/cart/view\", {\n      headers\n    }).subscribe(data => {\n      this.email = data.email;\n      this.courses = data.courses;\n      this.amount = data.amount;\n    });\n  }\n  remove(id) {\n    const token = this.authService.getToken();\n    const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);\n    this.http.post(`http://127.0.0.1:8000/api/cart/delete/${id}`, {}, {\n      headers\n    }).subscribe(() => {\n      alert(`Removed from cart`);\n      this.getCart();\n    }, error => {\n      console.log(error);\n      alert(`error!`);\n    });\n  }\n  onBack() {\n    this.router.navigate(['/courses']);\n  }\n}\n_class = CartComponent;\n_class.ɵfac = function CartComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"pm-cart\"]],\n  decls: 13,\n  vars: 3,\n  consts: [[1, \"card\"], [1, \"card-header\"], [\"class\", \"cart-empty\", 4, \"ngIf\"], [1, \"container-cart\"], [\"class\", \"course-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-4\"], [1, \"btn\", \"btn-outline-secondary\", \"mr-3\", 2, \"width\", \"80px\", 3, \"click\"], [1, \"fa\", \"fa-chevron-left\"], [1, \"cart-empty\"], [1, \"course-card\"], [\"class\", \"details\", 4, \"ngIf\"], [1, \"details\"], [1, \"btn\", \"btn-outline-danger\", 2, \"width\", \"80px\", 3, \"click\"]],\n  template: function CartComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵtext(2, \" Cart \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(3, CartComponent_div_3_Template, 2, 0, \"div\", 2);\n      i0.ɵɵelementStart(4, \"div\", 3);\n      i0.ɵɵtemplate(5, CartComponent_div_5_Template, 2, 1, \"div\", 4);\n      i0.ɵɵelement(6, \"br\");\n      i0.ɵɵelementStart(7, \"h5\");\n      i0.ɵɵtext(8);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"div\", 5)(10, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function CartComponent_Template_button_click_10_listener() {\n        return ctx.onBack();\n      });\n      i0.ɵɵelement(11, \"i\", 7);\n      i0.ɵɵtext(12, \" Back \");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.courses.length === 0);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.courses);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"Total Cost: $ \", ctx.amount, \"\");\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { CartComponent };","map":{"version":3,"names":["HttpHeaders","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","CartComponent_div_5_div_1_Template_button_click_7_listener","ɵɵrestoreView","_r6","course_r2","ɵɵnextContext","$implicit","ctx_r4","ɵɵresetView","remove","id","ɵɵelement","ɵɵadvance","ɵɵtextInterpolate1","courseName","price","startDate","ɵɵtemplate","CartComponent_div_5_div_1_Template","ɵɵproperty","CartComponent","constructor","http","authService","router","route","courses","amount","ngOnInit","getCart","console","log","token","getToken","headers","set","get","subscribe","data","email","post","alert","error","onBack","navigate","ɵɵdirectiveInject","i1","HttpClient","i2","AuthService","i3","Router","ActivatedRoute","selectors","decls","vars","consts","template","CartComponent_Template","rf","ctx","CartComponent_div_3_Template","CartComponent_div_5_Template","CartComponent_Template_button_click_10_listener","length"],"sources":["C:\\Users\\LENOVO\\P10\\demo\\src\\app\\cart\\cart.component.ts","C:\\Users\\LENOVO\\P10\\demo\\src\\app\\cart\\cart.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\n//import { course } from '../courses/course';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { AuthService } from '../auth.service';\nimport { ActivatedRoute, Router } from '@angular/router';\n\ninterface course {\n  id: number;\n  courseName: string;\n  courseCode: string;\n  startDate: string;\n  price:number;\n  starRating:number;\n  imageUrl:string;\n  category:number|null;\n  \n}\n@Component({\n  selector: 'pm-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n})\nexport class CartComponent implements OnInit {\n\n  email: string|undefined;\n  courses:course[]=[];\n  amount:number=0;\n  \n\n\n  constructor(private http: HttpClient,private authService:AuthService, private router:Router, private route: ActivatedRoute,){}\n\n  ngOnInit(): void {\n    this.getCart();\n    console.log(this.courses);\n  }\n\n  getCart()\n  {\n    const token=this.authService.getToken();\n    const headers=new HttpHeaders().set('Authorization',`Bearer ${token}`);\n    this.http.get<any>(\"http://127.0.0.1:8000/api/cart/view\",{headers}).subscribe(data=>{\n      this.email=data.email;\n      this.courses=data.courses;\n      this.amount=data.amount;\n    });\n  }\n\n  remove(id:number)\n  {\n    const token=this.authService.getToken();\n    const headers=new HttpHeaders().set('Authorization',`Bearer ${token}`);\n    this.http.post<any>(`http://127.0.0.1:8000/api/cart/delete/${id}`,{},{headers}).subscribe(()=>{\n      alert(`Removed from cart`);\n      this.getCart();\n    },\n    (error)=> {\n      console.log(error);\n      alert(`error!`)});\n  }\n\n  onBack(): void {\n    this.router.navigate(['/courses']);\n  }\n}\n","<div class=\"card\">\n    <div class=\"card-header\">\n        Cart\n    </div>\n</div>\n\n<div *ngIf=\"courses.length===0\" class=\"cart-empty\">\n    Cart Empty!!\n</div>\n\n<div class=\"container-cart\">\n    <div class=\"course-card\" *ngFor =\"let course of courses\">\n        <div class=\"details\" *ngIf=\"course.courseName && course.price && course.startDate\">\n            <h5>Course Name: {{course.courseName}}  </h5>\n            <h5>Price: $ {{course.price}}</h5>\n            <h5>Start Date: {{course.startDate}}</h5>\n            <button class=\"btn btn-outline-danger\"\n                    style=\"width:80px\"\n                    (click)='remove(course.id)'>Delete</button>\n                    <br>\n              <!--<button class=\"btn btn-outline-primary\"\n                style=\"width:80px\"\n                [routerLink]=\"['/courses', courseInfo.id, 'edit']\">\n          Edit\n        </button>-->\n        </div>\n        \n    </div>\n    <br>\n    <h5>Total Cost: $ {{amount}}</h5>\n</div>\n\n<div class=\"col-md-4\">\n    \n    <button class=\"btn btn-outline-secondary mr-3\"\n            style=\"width:80px\"\n            (click)=\"onBack()\">\n      <i class=\"fa fa-chevron-left\"></i> Back\n    </button>\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}